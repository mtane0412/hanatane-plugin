---
description: ポール・グレアム風にテキストを編集・推敲する
argument-hint: "[file_path or text]"
allowed-tools:
  - Read
  - Edit
  - Write
  - Skill
---

# /refine コマンド

このコマンドは、ユーザーのテキストをポール・グレアム風に編集・推敲します。

## あなたがすべきこと

### 1. 入力を特定する

ユーザーが提供した引数を確認してください:

**ケース1: ファイルパスが提供された場合**
```
/refine essay.md
/refine /path/to/article.md
```

この場合:
1. `Read` ツールを使ってファイルを読み込む
2. ファイル内容を編集対象とする

**ケース2: テキストが直接提供された場合**
```
/refine "スタートアップにおいて成功を収めるためには..."
/refine このテキストを編集して
```

この場合:
1. 提供されたテキストを編集対象とする
2. ファイルの読み込みは不要

**ケース3: 引数がない場合**

ユーザーに何を編集すればいいか尋ねてください:
```
編集したいテキストを教えてください。ファイルパスまたはテキストを直接入力してください。
```

### 2. pg-writing-philosophy スキルを読み込む

編集を開始する前に、必ず `pg-writing-philosophy` スキルを読み込んでください:

```
Skillツールを使って "pg-writing-philosophy" を読み込む
```

このスキルには、ポール・グレアムの執筆哲学が詳しく説明されています。これを理解した上で編集してください。

### 3. テキストを分析する

編集前に、テキスト全体を分析してください:

- 核心的なアイデアは何か?
- 何を伝えたいのか?
- 現在の問題点は何か?
  - 堅苦しい表現はあるか?
  - 長すぎる文や段落はあるか?
  - 抽象的すぎる部分はあるか?
  - 専門用語はあるか?
  - 冗長な表現はあるか?

### 4. 編集を実行する

以下の原則に従って編集してください:

#### 4.1 明快さ

- 複雑な言葉を簡単な言葉に置き換える
- 専門用語を避ける(必要な場合は説明を追加)
- 二重否定を避ける
- 受動態を能動態に変換する

#### 4.2 文の長さ

- 長い文(25語以上)を短く分割する
- 目標: 1文あたり平均15-20語

#### 4.3 段落の長さ

- 長い段落(6文以上)を分割する
- 目標: 1段落あたり3-5文

#### 4.4 会話調

- 「である」調を「だ」「です」調に変換
- 疑問文を使って読者を巻き込む
- 二人称(あなた、君)を使う

#### 4.5 具体例

- 抽象的な概念には具体例を追加する
- 実際の会社名、人名、数字を使う

#### 4.6 削除

以下を積極的に削除してください:
- 冗長な修飾語(「非常に」「とても」「基本的に」)
- 「〜することができる」→「〜できる」
- 「〜と考えられる」→「〜と思う」
- 「本稿では」「〜について述べる」などの形式的表現

### 5. 編集結果を提示する

編集後、以下の形式で結果を提示してください:

```markdown
## 編集結果

[編集後のテキスト全体]

## 主な変更点

### 1. [変更カテゴリ]
**変更前**: [元の文]
**変更後**: [編集後の文]
**理由**: [なぜこの変更をしたのか]

### 2. [変更カテゴリ]
...

## 統計

- 元の文字数: XXX
- 編集後の文字数: XXX
- 削減率: XX%
- 平均文長: XX語 → XX語
- 平均段落長: XX文 → XX文

## 音読チェック結果

編集後の文章を音読して以下を確認しました:
- [ ] つかえずに読めるか?
- [ ] 自然に聞こえるか?
- [ ] 友人との会話のように聞こえるか?
- [ ] 呼吸が苦しくならないか?

## 引っかかる部分のチェック

以下の「引っかかる」部分を確認しました:
- 引っかかる部分: [あれば記載、なければ「なし」]
- 修正内容: [修正した場合は記載]

## さらなる改善案

[任意: さらに改善できる点があれば提案する]
```

### 6. ファイルへの保存(任意)

ユーザーがファイルパスを提供した場合:

**オプション1**: 元のファイルを上書きする
- ユーザーに確認を取る: 「元のファイルを上書きしますか?」
- 確認が得られたら `Write` ツールで保存

**オプション2**: 新しいファイルとして保存する
- `[元のファイル名]-refined.md` として保存
- 例: `essay.md` → `essay-refined.md`

ユーザーにどちらを希望するか尋ねてください。

### 7. 反復的改善

編集後、ユーザーに尋ねてください:

```
さらに改善しますか?以下の改善が可能です:
1. [改善案1]
2. [改善案2]
3. [改善案3]

「さらに改善」と言っていただければ、次のラウンドの編集を実施します。
```

ユーザーが「さらに改善」「続けて」などと言った場合、追加の編集ラウンドを実施してください。

## 使用例

### 例1: ファイルパスを指定

```
ユーザー: /refine essay.md

あなた:
1. essay.md を読み込む
2. pg-writing-philosophy スキルを読み込む
3. テキストを分析する
4. 編集を実行する
5. 結果を提示する
6. 保存方法を尋ねる
```

### 例2: テキストを直接指定

```
ユーザー: /refine "スタートアップにおいて成功を収めるためには、多様な要素が複雑に絡み合っている"

あなた:
1. 提供されたテキストを編集対象とする
2. pg-writing-philosophy スキルを読み込む
3. 編集を実行する
4. 結果を提示する
```

### 例3: 反復的改善

```
ユーザー: /refine essay.md

あなた: [1回目の編集を実施]

ユーザー: さらに改善して

あなた: [2回目の編集を実施]

ユーザー: もっと具体例を追加して

あなた: [3回目の編集を実施、具体例に焦点]
```

## 重要な注意事項

### 1. アイデアを尊重する

ユーザーの核心的なアイデアやメッセージを変えないでください。表現方法を改善するだけです。

### 2. 過度に編集しない

すべてを変える必要はありません。本当に改善が必要な部分に焦点を当ててください。

### 3. 文化的配慮

日本語として自然な表現を優先してください。英語からの直訳的な変換は避けてください。

### 4. 説明的であること

なぜその編集をしたのかを説明してください。ユーザーが学べるようにしてください。

## まとめ

`/refine` コマンドの流れ:

1. 入力を特定する(ファイル or テキスト)
2. pg-writing-philosophy スキルを読み込む
3. テキストを分析する
4. PGの原則に従って編集する
5. 結果と変更理由を提示する
6. 保存方法を尋ねる(ファイルの場合)
7. さらなる改善を提案する

常に、明快さ、シンプルさ、会話調を重視してください。
