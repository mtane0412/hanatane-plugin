---
description: インタビューを通じて執筆のアイデアを発掘し、記事の構造を設計する
argument-hint: "[topic or empty]"
allowed-tools:
  - Task
  - Read
  - Write
  - AskUserQuestion
---

# /interview コマンド

このコマンドは、インタビューを通じて執筆のアイデアを発掘し、記事の構造を設計します。ゼロの状態から完全な執筆プランまでをサポートします。

## あなたがすべきこと

### 1. 引数を確認する

ユーザーが提供した引数を確認してください:

**トピック指定あり**:
```
/interview スタートアップの失敗
/interview 新しいプログラミング言語
/interview "キャリアの転換点"
```

**トピック指定なし**:
```
/interview
```

トピックがない場合は、完全にゼロの状態からインタビューを開始します。

### 2. ワークフローを開始する

インタビューは、以下の3つのフェーズで構成されます:

```
[discovery] アイデアの発掘
  ↓
[storytelling] エピソードの具体化 (記事種別に応じて)
  ↓
[structure] 構造の明確化
  ↓
完成した執筆プラン
```

### フェーズ1: discovery (必須)

**目的**: アイデアの発掘と記事種別の識別

**実行方法**:
```
Task tool を使用して discovery エージェントを起動
```

**discovery エージェントがすること**:
- ソクラテス式問答法で質問
- 記事種別を自動識別(技術解説/経験談/意見/アイデア/ストーリー)
- 核心的なメッセージを引き出す
- `discovery-session-[日時].md` を生成

**トピック指定がある場合**:
discovery エージェントに、ユーザーが指定したトピックを伝えてください:
```
「ユーザーは[トピック]について書きたいと言っています。このテーマを深掘りしてください」
```

**トピック指定がない場合**:
discovery エージェントに、完全にゼロの状態から始めることを伝えてください:
```
「ユーザーは何を書くか決まっていません。Kickstart Questionから始めてください」
```

### フェーズ2: storytelling (条件付き)

**実行条件**:
discovery エージェントが識別した記事種別が以下のいずれかの場合:
- 経験・学び記事
- ストーリー記事

**実行方法**:
```
Task tool を使用して storytelling エージェントを起動
```

**storytelling エージェントがすること**:
- `discovery-session-[日時].md` を読み込む
- Ira Glass式の質問で具体的なエピソードを引き出す
- Anecdote + Reflection で構成
- `storytelling-session-[日時].md` を生成

**スキップする場合**:
技術解説記事、意見・主張記事、アイデア・洞察記事の場合は、storytelling をスキップして structure に進んでください。

### フェーズ3: structure (必須)

**目的**: 記事の構造設計と読者価値の明確化

**実行方法**:
```
Task tool を使用して structure エージェントを起動
```

**structure エージェントがすること**:
- 前のセッションファイルを読み込む
- 7つの本質的な質問で構造を設計
- 何を含め、何を省くかを決定
- `structure-session-[日時].md` を生成

### 3. 完了メッセージを表示する

すべてのフェーズが完了したら、以下の情報をユーザーに提示してください:

```markdown
## インタビュー完了

執筆の準備が整いました!

### 記事の概要
- **種別**: [記事種別]
- **核心メッセージ**: [一文要約]
- **想定読者**: [読者の説明]

### 生成されたファイル
1. `discovery-session-[日時].md` - アイデアの発掘記録
2. `storytelling-session-[日時].md` - エピソードの詳細 ※該当する場合
3. `structure-session-[日時].md` - 記事の構造設計

### 次のステップ

#### オプション1: 執筆を開始する
構造設計に基づいて、記事を書き始めてください。
下書きができたら、`/refine` コマンドで磨き上げます。

#### オプション2: さらに深掘りする
特定のフェーズをやり直したい場合:
- アイデアを再検討: discovery エージェントを起動
- エピソードを追加: storytelling エージェントを起動
- 構造を調整: structure エージェントを起動

#### オプション3: 既存の下書きと統合
すでに下書きがある場合、セッションファイルを参考に編集できます。
```

### 4. エラーハンドリング

#### エージェントの起動に失敗した場合

```
[エージェント名] の起動に失敗しました。

以下を確認してください:
1. プラグインが正しくインストールされているか
2. agents/ ディレクトリに [エージェント名].md が存在するか
3. エージェントのfrontmatterが正しく設定されているか
```

#### セッションファイルの読み込みに失敗した場合

```
前のセッションファイルが見つかりません。

[エージェント名] を単独で実行します。
必要に応じて、前のフェーズの情報を手動で入力してください。
```

## 記事種別ごとの推奨ワークフロー

### 技術解説記事
```
discovery → structure
```
storytelling をスキップし、構造設計に集中します。

### 経験・学び記事
```
discovery → storytelling → structure
```
完全なワークフローを実行します。エピソードの詳細化が重要です。

### 意見・主張記事
```
discovery → structure
```
論理的な構成と根拠の整理に焦点を当てます。

### アイデア・洞察記事
```
discovery → structure
```
新規性と応用可能性を明確にします。

### ストーリー記事
```
discovery → storytelling → (structure)
```
storytelling が最も重要です。structure はオプションです。

## 使用例

### 例1: トピック指定なし(ゼロからの発掘)

```
ユーザー: /interview

あなた:
1. discovery エージェントを起動
   → 「What's on your mind?」から開始
   → 記事種別を識別: 経験・学び記事
2. storytelling エージェントを起動
   → 具体的なエピソードを引き出す
3. structure エージェントを起動
   → 記事の構造を設計
4. 完了メッセージを表示
```

### 例2: トピック指定あり

```
ユーザー: /interview "初めてのOSS貢献"

あなた:
1. discovery エージェントを起動
   → トピックを伝える: 「初めてのOSS貢献について書きたい」
   → 記事種別を識別: 経験・学び記事
2. storytelling エージェントを起動
   → 具体的な貢献のエピソードを詳細化
3. structure エージェントを起動
   → 読者にとっての価値を明確化
4. 完了メッセージを表示
```

### 例3: 技術解説記事

```
ユーザー: /interview React Hooks

あなた:
1. discovery エージェントを起動
   → 記事種別を識別: 技術解説記事
   → storytelling をスキップすることを決定
2. structure エージェントを起動
   → 技術解説の構成を設計
3. 完了メッセージを表示
```

## 高度な機能(オプション)

### 中断と再開

ユーザーが途中で中断した場合:

```
インタビューを一時中断しました。

生成済みのファイル:
- discovery-session-[日時].md

再開するには:
/interview --resume
```

### 部分的な実行

特定のフェーズのみを実行したい場合:

```
/interview --phase discovery
/interview --phase storytelling
/interview --phase structure
```

この場合、指定されたエージェントのみを起動します。

### セッションファイルの参照

過去のセッションファイルを参照しながら新しいインタビューを開始:

```
/interview --from discovery-session-20240115-143022.md
```

指定されたセッションファイルを読み込み、そこから続けます。

## 重要な注意事項

### 1. エージェントの自律性

各エージェントは自律的に動作します。あなたは:
- エージェントを起動する
- エージェントからの出力を受け取る
- 次のエージェントに引き継ぐ

エージェントの質問に介入しないでください。

### 2. セッションファイルの保存

各エージェントが生成するセッションファイルは重要です:
- 削除しないでください
- 次のエージェントに読み込ませてください
- ユーザーが後で参照できるようにしてください

### 3. 柔軟性

記事種別やユーザーの要望に応じて、ワークフローを柔軟に調整してください:
- storytelling をスキップすることもある
- structure を省略することもある
- 特定のフェーズを繰り返すこともある

### 4. ユーザーの主体性

インタビューは、ユーザーが主役です:
- ユーザーの答えを尊重する
- 押し付けない
- ユーザーのペースで進める

## まとめ

`/interview` コマンドの流れ:

1. **引数を確認**: トピックの有無を確認
2. **discovery**: アイデアの発掘と記事種別の識別
3. **storytelling**: エピソードの具体化(条件付き)
4. **structure**: 構造の設計
5. **完了メッセージ**: 次のステップを提示

このコマンドは、ゼロの状態から完全な執筆プランまでをサポートします。
各エージェントの自律性を尊重し、柔軟にワークフローを調整してください。
